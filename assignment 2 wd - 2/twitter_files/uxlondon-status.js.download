(function(win) {
    var doc = win.document;
    function createCookie(name,value,days) {
        if (days) {
            var date = new Date();
            date.setTime(date.getTime()+(days*24*60*60*1000));
            var expires = "; expires="+date.toGMTString();
        }
        else var expires = "";
        doc.cookie = name+"="+value+expires+"; path=/";
    }
    function readCookie(name) {
        var nameEQ = name + "=";
        var ca = doc.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
    if (readCookie('dismiss') == 'dismissed') return;

    var markup = '<span style="display: inline-block; color: #000; width: 90%; padding-left: 1em">This is a past event. Please join us for <a href="http://uxlondon.com/" style="display: inline; color: #69f; font-weight: bold; text-decoration: none; border: none; background: transparent">UX London this year</a>.</span><a style="display: inline-block; position: absolute; right: 1em; color: #999; font-weight: bold; text-decoration: none; border: none; background: transparent" href="#" title="dismiss">&times;</a>',
        container = doc.createElement('div');
    container.setAttribute('style','position: fixed; top: 0; left: 0; width: 100%; background-color: #ff6; color: #000; font-size: 16px; font-family: "Helvetica Neue", Ariel, Helvetica; padding: 0.5em 0; margin: 0; text-align: left; overflow: hidden; clear: both; z-index: 9999')
    container.innerHTML = markup;
    var status = doc.body.insertBefore(container,doc.body.firstChild),
        links = status.getElementsByTagName('a');
    links[links.length-1].onclick = function () {
        createCookie('dismiss','dismissed',365);
        doc.body.removeChild(status);
        return false;
    };
})(this);